<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Donantes 2025</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        * {
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }
        
        body {
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        
        .form-header {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .form-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .form-subtitle {
            font-style: italic;
            margin-bottom: 20px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-row {
            display: flex;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }
        
        .form-col {
            flex: 1;
            min-width: 200px;
            padding-right: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        input[type="text"],
        input[type="email"],
        input[type="number"],
        input[type="date"],
        input[type="tel"],
        select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        .section-title {
            font-weight: bold;
            margin: 20px 0 10px;
            padding-bottom: 5px;
            border-bottom: 1px solid #ddd;
        }
        
        .radio-group {
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        .radio-option {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .radio-option input[type="radio"] {
            margin: 0;
        }
        
        .clinical-questions {
            margin-top: 20px;
        }
        
        .question-row {
            display: flex;
            margin-bottom: 10px;
            align-items: center;
            border-bottom: 1px solid #eee;
            padding-bottom: 5px;
        }
        
        .question-text {
            flex: 3;
        }
        
        .question-options {
            flex: 1;
            display: flex;
            justify-content: center;
            gap: 20px;
        }
        
        .additional-input {
            margin-top: 5px;
            margin-left: 20px;
            display: none;
        }
        
        .physical-exam {
            margin-top: 20px;
            border: 1px solid #ddd;
            padding: 15px;
            border-radius: 4px;
        }
        
        .physical-row {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .physical-item {
            flex: 1;
            min-width: 120px;
        }
        
        .signatures {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            gap: 20px;
        }
        
        .signature {
            flex: 1;
            text-align: center;
        }
        
        .signature-line {
            border-top: 1px solid black;
            margin-top: 40px;
            padding-top: 5px;
        }
        
        .btn-container {
            margin-top: 30px;
            text-align: center;
        }
        
        .btn {
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        
        .btn:hover {
            background-color: #0056b3;
        }
        
        @media print {
            .no-print {
                display: none;
            }
            
            body {
                background-color: white;
                padding: 0;
            }
            
            .container {
                box-shadow: none;
                padding: 0;
            }
        }
        
        @media (max-width: 600px) {
            .form-col {
                flex: 100%;
                padding-right: 0;
            }
            
            .signatures {
                flex-direction: column;
            }
            
            .signature {
                margin-bottom: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container" id="pdfContent">
        <div class="form-header">
            <div class="form-title">Formulario de Donantes 2025</div>
            <div class="form-subtitle">
                Gracias por tu solidaridad y apoyo a la causa de salvar vidas. Como ente que gestiona bienestar, tenemos la responsabilidad
                de velar por tu seguridad como donante y también la del paciente quien recibirá tu sangre.
                Pedimos tu colaboración y honestidad en las respuestas, recordando que esta información es totalmente confidencial.
            </div>
        </div>
        
        <form id="donorForm">
            <div class="form-row">
                <div class="form-col">
                    <label for="establecimiento">Establecimiento de salud:</label>
                    <input type="text" id="establecimiento" name="establecimiento">
                </div>
                <div class="form-col">
                    <label for="fecha">Fecha:</label>
                    <input type="date" id="fecha" name="fecha">
                </div>
            </div>
            
            <div class="section-title">DATOS PERSONALES</div>
            
            <div class="form-group">
                <label for="nombres">1.- Nombres y apellidos:</label>
                <input type="text" id="nombres" name="nombres">
            </div>
            
            <div class="form-row">
                <div class="form-col">
                    <label for="lugarNacimiento">2.- Lugar de nacimiento:</label>
                    <input type="text" id="lugarNacimiento" name="lugarNacimiento">
                </div>
                <div class="form-col">
                    <label for="fechaNacimiento">Fecha:</label>
                    <input type="date" id="fechaNacimiento" name="fechaNacimiento">
                </div>
                <div class="form-col">
                    <label for="edad">Edad:</label>
                    <input type="number" id="edad" name="edad" min="0" max="120">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-col">
                    <label>3.- Género:</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="genero_m" name="genero" value="Masculino">
                            <label for="genero_m">Masculino</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="genero_f" name="genero" value="Femenino">
                            <label for="genero_f">Femenino</label>
                        </div>
                    </div>
                </div>
                <div class="form-col">
                    <label>Estado civil:</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="estado_s" name="estadoCivil" value="Soltero(a)">
                            <label for="estado_s">Soltero(a)</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="estado_c" name="estadoCivil" value="Casado(a)">
                            <label for="estado_c">Casado(a)</label>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-col">
                    <label>4.- Documento de identidad:</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="doc_cedula" name="tipoDocumento" value="Cédula">
                            <label for="doc_cedula">Cédula</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="doc_pasaporte" name="tipoDocumento" value="Pasaporte">
                            <label for="doc_pasaporte">Pasaporte</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="doc_licencia" name="tipoDocumento" value="Licencia">
                            <label for="doc_licencia">Licencia</label>
                        </div>
                    </div>
                </div>
                <div class="form-col">
                    <label for="documentoNum">Documento Núm.</label>
                    <input type="text" id="documentoNum" name="documentoNum">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-col">
                    <label for="calle">5.- Dirección de residencia: Calle</label>
                    <input type="text" id="calle" name="calle">
                </div>
                <div class="form-col">
                    <label for="numero">Número</label>
                    <input type="text" id="numero" name="numero">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-col">
                    <label for="sector">6.- Sector:</label>
                    <input type="text" id="sector" name="sector">
                </div>
                <div class="form-col">
                    <label for="provincia">Provincia:</label>
                    <input type="text" id="provincia" name="provincia">
                </div>
                <div class="form-col">
                    <label for="region">Región:</label>
                    <input type="text" id="region" name="region">
                </div>
            </div>
            

            <div class="form-row">
                <div class="form-col">
                    <label for="ocupacion">7.- Ocupación o empleo:</label>
                    <input type="text" id="ocupacion" name="ocupacion">
                </div>
                <div class="form-col">
                    <label for="telefonoFijo">Teléfono fijo:</label>
                    <input type="tel" id="telefonoFijo" name="telefonoFijo">
                </div>
                <div class="form-col">
                    <label for="celular">Celular:</label>
                    <input type="tel" id="celular" name="celular">
                </div>
            </div>

            <div class="form-row">
                <div class="form-col">
                    <label for="telefono">8.- Teléfono de trabajo:</label>
                    <input type="tel" id="telefono" name="telefono">
                </div>
                <div class="form-col">
                    <label for="email">Correo Electrónico:</label>
                    <input type="email" id="email" name="email">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-col">
                    <label for="familiar">9.- Nombre de un familiar o amigo:</label>
                    <input type="text" id="familiar" name="familiar">
                </div>
                <div class="form-col">
                    <label for="contacto">Contacto:</label>
                    <input type="tel" id="contacto" name="contacto">
                </div>
            </div>
            
            <div class="form-group">
                <label>10.- Tipo de donación:</label>
                <div class="radio-group">
                    <div class="radio-option">
                        <input type="radio" id="tipo_voluntario" name="tipoDonacion" value="Voluntario">
                        <label for="tipo_voluntario">Voluntario</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="tipo_im" name="tipoDonacion" value="IM">
                        <label for="tipo_im">IM</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="tipo_em" name="tipoDonacion" value="EM">
                        <label for="tipo_em">EM</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="tipo_reposicion" name="tipoDonacion" value="Reposición">
                        <label for="tipo_reposicion">Reposición</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="tipo_autologo" name="tipoDonacion" value="Autólogo">
                        <label for="tipo_autologo">Autólogo</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="tipo_remunerado" name="tipoDonacion" value="Remunerado">
                        <label for="tipo_remunerado">Remunerado</label>
                    </div>
                </div>
            </div>
            
            <div class="section-title">Historial Clínico del Donante</div>
            
            <div class="clinical-questions">
                <div class="question-row">
                    <div class="question-text">1.- ¿Se siente bien de salud?</div>
                    <div class="question-options">
                        <div class="radio-option">
                            <input type="radio" id="q1_si" name="q1" value="Si">
                            <label for="q1_si">SI</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="q1_no" name="q1" value="No">
                            <label for="q1_no">NO</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-row">
                    <div class="question-text">2.- ¿Ha donado sangre anteriormente?</div>
                    <div class="question-options">
                        <div class="radio-option">
                            <input type="radio" id="q2_si" name="q2" value="Si" onchange="toggleAdditionalInput('q2_additional')">
                            <label for="q2_si">SI</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="q2_no" name="q2" value="No" onchange="toggleAdditionalInput('q2_additional')">
                            <label for="q2_no">NO</label>
                        </div>
                    </div>
                </div>
                <div id="q2_additional" class="additional-input">
                    <label for="q2_detail">¿Hace cuánto?</label>
                    <input type="text" id="q2_detail" name="q2_detail">
                </div>
                
                <div class="question-row">
                    <div class="question-text">3.- ¿Ha tenido alguna reacción adversa a la donación?</div>
                    <div class="question-options">
                        <div class="radio-option">
                            <input type="radio" id="q3_si" name="q3" value="Si" onchange="toggleAdditionalInput('q3_additional')">
                            <label for="q3_si">SI</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="q3_no" name="q3" value="No" onchange="toggleAdditionalInput('q3_additional')">
                            <label for="q3_no">NO</label>
                        </div>
                    </div>
                </div>
                <div id="q3_additional" class="additional-input">
                    <label for="q3_detail">¿Qué tipo de reacción?</label>
                    <input type="text" id="q3_detail" name="q3_detail">
                </div>
                
                <div class="question-row">
                    <div class="question-text">4.- ¿Ha sido declarado alguna vez no apto para donar sangre?</div>
                    <div class="question-options">
                        <div class="radio-option">
                            <input type="radio" id="q4_si" name="q4" value="Si" onchange="toggleAdditionalInput('q4_additional')">
                            <label for="q4_si">SI</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="q4_no" name="q4" value="No" onchange="toggleAdditionalInput('q4_additional')">
                            <label for="q4_no">NO</label>
                        </div>
                    </div>
                </div>
                <div id="q4_additional" class="additional-input">
                    <label for="q4_detail">¿Por qué?</label>
                    <input type="text" id="q4_detail" name="q4_detail">
                </div>
                
                <!-- Añadir el resto de preguntas -->
                <div class="question-row">
                    <div class="question-text">5.- ¿Ha ingerido alimentos en las últimas 3 horas?</div>
                    <div class="question-options">
                        <div class="radio-option">
                            <input type="radio" id="q5_si" name="q5" value="Si">
                            <label for="q5_si">SI</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="q5_no" name="q5" value="No">
                            <label for="q5_no">NO</label>
                        </div>
                    </div>
                </div>
                
                  <div class="question-row">
                    <div class="question-text">6.- ¿Está tomando algún medicamento?</div>
                    <div class="question-options">
                        <div class="radio-option">
                            <input type="radio" id="q6_si" name="q6" value="Si" onchange="toggleAdditionalInput('q6_additional')">
                            <label for="q4_si">SI</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="q6_no" name="q6" value="No" onchange="toggleAdditionalInput('q6_additional')">
                            <label for="q6_no">NO</label>
                        </div>
                    </div>
                </div>
                <div id="q6_additional" class="additional-input">
                    <label for="q6_detail">Especifique</label>
                    <input type="text" id="q6_detail" name="q6_detail">
                </div>
                
                <div class="question-row">
                    <div class="question-text">7.- ¿Ha tomado alcohol en las últimas 24 horas?</div>
                    <div class="question-options">
                        <div class="radio-option">
                            <input type="radio" id="q7_si" name="q7" value="Si">
                            <label for="q7_si">SI</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="q7_no" name="q7" value="No">
                            <label for="q7_no">NO</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-row">
                    <div class="question-text">8.- ¿Ha tomado aspirina en las últimas 48 horas?</div>
                    <div class="question-options">
                        <div class="radio-option">
                            <input type="radio" id="q8_si" name="q8" value="Si">
                            <label for="q8_si">SI</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="q8_no" name="q8" value="No">
                            <label for="q8_no">NO</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-row">
                    <div class="question-text">9.- ¿Se ha sometido a alguna extracción dental en los últimos 7 días?</div>
                    <div class="question-options">
                        <div class="radio-option">
                            <input type="radio" id="q9_si" name="q9" value="Si">
                            <label for="q9_si">SI</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="q9_no" name="q9" value="No">
                            <label for="q9_no">NO</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-row">
                    <div class="question-text">10.- ¿Ha tenido dolor de cabeza en los últimos 7 días?</div>
                    <div class="question-options">
                        <div class="radio-option">
                            <input type="radio" id="q10_si" name="q10" value="Si">
                            <label for="q10_si">SI</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="q10_no" name="q10" value="No">
                            <label for="q10_no">NO</label>
                        </div>
                    </div>
                </div>

                   <div class="question-row">
                    <div class="question-text">11.- ¿Ha tenido fiebre en los ultimos 7 dias?</div>
                    <div class="question-options">
                        <div class="radio-option">
                            <input type="radio" id="q11_si" name="q11" value="Si">
                            <label for="q11_si">SI</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="q11_no" name="q11" value="No">
                            <label for="q11_no">NO</label>
                        </div>
                    </div>
                </div>

                

                
                <div class="question-row">
                    <div class="question-text">12.- Mujer: ¿Está o ha estado embarazada en los últimos 6 meses?</div>
                    <div class="question-options">
                        <div class="radio-option">
                            <input type="radio" id="q12_si" name="q12" value="Si">
                            <label for="q12_si">SI</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="q12_no" name="q12" value="No">
                            <label for="q12_no">NO</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-row">
                    <div class="question-text">13.- ¿Ha sido vacunado en los últimos 6 meses?</div>
                    <div class="question-options">
                        <div class="radio-option">
                            <input type="radio" id="q13_si" name="q13" value="Si">
                            <label for="q13_si">SI</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="q13_no" name="q13" value="No">
                            <label for="q13_no">NO</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-row">
                    <div class="question-text">14.- ¿Ha salido del país en los últimos 6 meses?</div>
                    <div class="question-options">
                        <div class="radio-option">
                            <input type="radio" id="q14_si" name="q14" value="Si">
                            <label for="q14_si">SI</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="q14_no" name="q14" value="No">
                            <label for="q14_no">NO</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-row">
                    <div class="question-text">15.- ¿Se ha sometido a intervención quirúrgica en los últimos 6 meses?</div>
                    <div class="question-options">
                        <div class="radio-option">
                            <input type="radio" id="q15_si" name="q15" value="Si">
                            <label for="q15_si">SI</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="q15_no" name="q15" value="No">
                            <label for="q15_no">NO</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-row">
                    <div class="question-text">16.- ¿Ha recibido transfusión de algún componente sanguíneo en los últimos 6 meses?</div>
                    <div class="question-options">
                        <div class="radio-option">
                            <input type="radio" id="q16_si" name="q16" value="Si">
                            <label for="q16_si">SI</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="q16_no" name="q16" value="No">
                            <label for="q16_no">NO</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-row">
                    <div class="question-text">17.- ¿Ha sido sometido a algún tratamiento dental en los últimos 6 meses?</div>
                    <div class="question-options">
                        <div class="radio-option">
                            <input type="radio" id="q17_si" name="q17" value="Si">
                            <label for="q17_si">SI</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="q17_no" name="q17" value="No">
                            <label for="q17_no">NO</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-row">
                    <div class="question-text">18.- ¿Le han hecho algún tatuaje, aplicación de piercing, maquillaje permanente u orificio en el cuerpo en los últimos 6 meses?</div>
                    <div class="question-options">
                        <div class="radio-option">
                            <input type="radio" id="q18_si" name="q18" value="Si">
                            <label for="q18_si">SI</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="q18_no" name="q18" value="No">
                            <label for="q18_no">NO</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-row">
                    <div class="question-text">19.- ¿Ha tenido relaciones con trabajadoras (es) sexuales en los últimos 6 meses?</div>
                    <div class="question-options">
                        <div class="radio-option">
                            <input type="radio" id="q19_si" name="q19" value="Si">
                            <label for="q19_si">SI</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="q19_no" name="q19" value="No">
                            <label for="q19_no">NO</label>
                        </div>
                    </div>
                </div>

                <div class="question-row">
                    <div class="question-text">20.- ¿Ha tenido sifilis o ITS en los ultimos 6 meses?</div>
                    <div class="question-options">
                        <div class="radio-option">
                            <input type="radio" id="q20_si" name="q20" value="Si">
                            <label for="q20_si">SI</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="q20_no" name="q20" value="No">
                            <label for="q20_no">NO</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-row">
                    <div class="question-text">21.- ¿Ha estado en prisión en los últimos 6 meses?</div>
                    <div class="question-options">
                        <div class="radio-option">
                            <input type="radio" id="q21_si" name="q21" value="Si">
                            <label for="q21_si">SI</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="q21_no" name="q21" value="No">
                            <label for="q21_no">NO</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-row">
                    <div class="question-text">22.- ¿Ha tenido algún accidente expuesto a riesgos biológicos (pinchazos con agujas contaminadas)?</div>
                    <div class="question-options">
                        <div class="radio-option">
                            <input type="radio" id="q22_si" name="q22" value="Si">
                            <label for="q22_si">SI</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="q22_no" name="q22" value="No">
                            <label for="q22_no">NO</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-row">
                    <div class="question-text">23.- ¿Ha sufrido de hepatitis o ha estado en contacto directo con personas con hepatitis?</div>
                    <div class="question-options">
                        <div class="radio-option">
                            <input type="radio" id="q23_si" name="q23" value="Si">
                            <label for="q23_si">SI</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="q23_no" name="q23" value="No">
                            <label for="q23_no">NO</label>
                        </div>
                    </div>
                </div>
                
                <div class="section-title">Alguna vez en su vida:</div>
                
                <div class="question-row">
                    <div class="question-text">24.- ¿Ha padecido enfermedades del corazón?</div>
                    <div class="question-options">
                        <div class="radio-option">
                            <input type="radio" id="q24_si" name="q24" value="Si" onchange="toggleAdditionalInput('q24_additional')">
                            <label for="q24_si">SI</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="q24_no" name="q24" value="No" onchange="toggleAdditionalInput('q24_additional')">
                            <label for="q24_no">NO</label>
                        </div>
                    </div>
                </div>
                <div id="q24_additional" class="additional-input">
                    <label for="q24_detail">¿Cuál?</label>
                    <input type="text" id="q24_detail" name="q24_detail">
                </div>
                
                <div class="question-row">
                    <div class="question-text">25.- ¿Ha padecido de cáncer?</div>
                    <div class="question-options">
                        <div class="radio-option">
                            <input type="radio" id="q25_si" name="q25" value="Si" onchange="toggleAdditionalInput('q25_additional')">
                            <label for="q25_si">SI</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="q25_no" name="q25" value="No" onchange="toggleAdditionalInput('q25_additional')">
                            <label for="q25_no">NO</label>
                        </div>
                    </div>
                </div>
                <div id="q25_additional" class="additional-input">
                    <label for="q25_detail">¿Cuál?</label>
                    <input type="text" id="q25_detail" name="q25_detail">
                </div>
                
                <div class="question-row">
                    <div class="question-text">26.- ¿Ha padecido afecciones de los pulmones?</div>
                    <div class="question-options">
                        <div class="radio-option">
                            <input type="radio" id="q26_si" name="q26" value="Si" onchange="toggleAdditionalInput('q26_additional')">
                            <label for="q26_si">SI</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="q26_no" name="q26" value="No" onchange="toggleAdditionalInput('q26_additional')">
                            <label for="q26_no">NO</label>
                        </div>
                    </div>
                </div>
                <div id="q26_additional" class="additional-input">
                    <label for="q26_detail">¿Cuál?</label>
                    <input type="text" id="q26_detail" name="q26_detail">
                </div>
                
                <div class="question-row">
                    <div class="question-text">27.- ¿Sufre de Diabetes? (azúcar en la sangre)</div>
                    <div class="question-options">
                        <div class="radio-option">
                            <input type="radio" id="q27_si" name="q27" value="Si">
                            <label for="q27_si">SI</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="q27_no" name="q27" value="No">
                            <label for="q27_no">NO</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-row">
                    <div class="question-text">28.- ¿Sufre de Hipertensión o Hipotensión?</div>
                    <div class="question-options">
                        <div class="radio-option">
                            <input type="radio" id="q28_si" name="q28" value="Si">
                            <label for="q28_si">SI</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="q28_no" name="q28" value="No">
                            <label for="q28_no">NO</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-row">
                 <div class="question-text">29.- ¿Ha tenido mareos, desmayos, convulsiones o epilepsia?</div>
                 <div class="question-options">
                 <div class="radio-option">
                 <input type="radio" id="q29_si" name="q29" value="Si">
                 <label for="q29_si">SI</label>
                </div>
                <div class="radio-option">
               <input type="radio" id="q29_no" name="q29" value="No">
                <label for="q29_no">NO</label>
                </div>
               </div>
           </div>


            <div id="q29_additional" class="additional-input" style="display: none;">
            <label for="q29_detail">Especifique:</label>
             <input type="text" id="q29_detail" name="q29_detail">
               </div>

                
                <div class="question-row">
                    <div class="question-text">30.- ¿Ha tenido pérdida de peso sin razón aparente?</div>
                    <div class="question-options">
                        <div class="radio-option">
                            <input type="radio" id="q30_si" name="q30" value="Si">
                            <label for="q30_si">SI</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="q30_no" name="q30" value="No">
                            <label for="q30_no">NO</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-row">
                    <div class="question-text">31.- ¿Ha padecido o padece actualmente alguna enfermedad no mencionada anteriormente?</div>
                    <div class="question-options">
                        <div class="radio-option">
                            <input type="radio" id="q31_si" name="q31" value="Si" onchange="toggleAdditionalInput('q31_additional')">
                            <label for="q31_si">SI</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="q31_no" name="q31" value="No" onchange="toggleAdditionalInput('q31_additional')">
                            <label for="q31_no">NO</label>
                        </div>
                    </div>
                </div>
                <div id="q31_additional" class="additional-input">
                    <label for="q31_detail">¿Cuál?</label>
                    <input type="text" id="q31_detail" name="q31_detail">
                </div>
                
                <div class="question-row">
                    <div class="question-text">32.- ¿Usa o ha usado sustancia controlada (abuso de drogas)?</div>
                    <div class="question-options">
                        <div class="radio-option">
                            <input type="radio" id="q32_si" name="q32" value="Si">
                            <label for="q32_si">SI</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="q32_no" name="q32" value="No">
                            <label for="q32_no">NO</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-row">
                    <div class="question-text">33.- ¿Le han realizado pruebas para investigación de VIH?</div>
                    <div class="question-options">
                        <div class="radio-option">
                            <input type="radio" id="q33_si" name="q33" value="Si">
                            <label for="q33_si">SI</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="q33_no" name="q33" value="No">
                            <label for="q33_no">NO</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-row">
                    <div class="question-text">34.- ¿Entendió las preguntas realizadas y estuvo de acuerdo en contestarlas?</div>
                    <div class="question-options">
                        <div class="radio-option">
                            <input type="radio" id="q34_si" name="q34" value="Si">
                            <label for="q34_si">SI</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="q34_no" name="q34" value="No">
                            <label for="q34_no">NO</label>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="section-title">Examen Físico:</div>
            
            <div class="physical-exam">
                <div class="physical-row">
                    <div class="physical-item">
                        <label for="temperatura">Temperatura</label>
                        <input type="text" id="temperatura" name="temperatura">
                    </div>
                    <div class="physical-item">
                        <label for="peso">Peso</label>
                        <input type="text" id="peso" name="peso">
                    </div>
                    <div class="physical-item">
                        <label for="pulso">Pulso</label>
                        <input type="text" id="pulso" name="pulso">
                    </div>
                </div>
                
                <div class="physical-row">
                    <div class="physical-item">
                        <label for="presionSistolica">Presión Arterial Sistólica</label>
                        <input type="text" id="presionSistolica" name="presionSistolica">
                    </div>
                    <div class="physical-item">
                        <label for="presionDiastolica">Diastólica</label>
                        <input type="text" id="presionDiastolica" name="presionDiastolica">
                    </div>
                </div>
                
                <div class="section-title">Examen de Laboratorio Preliminar</div>
                
                <div class="physical-row">
                    <div class="physical-item">
                        <label for="hematocrito">Hematócrito</label>
                        <input type="text" id="hematocrito" name="hematocrito">
                    </div>
                    <div class="physical-item">
                        <label for="hemoglobina">Hemoglobina</label>
                        <input type="text" id="hemoglobina" name="hemoglobina">
                    </div>
                    <div class="physical-item">
                        <label for="plaquetas">Plaquetas</label>
                        <input type="text" id="plaquetas" name="plaquetas">
                    </div>
                </div>
                
                <div class="section-title">Colección de Sangre:</div>
                
                <div class="physical-row">
                    <div class="physical-item">
                        <label>Tipo anticoagulante:</label>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="tipo_cpda1" name="tipoAnticoagulante" value="CPDA-1 (35 días)">
                                <label for="tipo_cpda1">CPDA-1 (35 días)</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="tipo_cpda_aditivo" name="tipoAnticoagulante" value="CPDA-adictivo (42 días)">
                                <label for="tipo_cpda_aditivo">CPDA-adictivo (42 días)</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="tipo_acd" name="tipoAnticoagulante" value="ACD (30 días)">
                                <label for="tipo_acd">ACD (30 días)</label>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="physical-row">
                    <div class="physical-item">
                        <label for="volumen">Volumen extraído: Sangre Total</label>
                        <input type="text" id="volumen" name="volumen">
                    </div>
                    <div class="physical-item">
                        <label for="horaInicio">Hora Inicio</label>
                        <input type="time" id="horaInicio" name="horaInicio">
                    </div>
                    <div class="physical-item">
                        <label for="horaFinal">Hora Final</label>
                        <input type="time" id="horaFinal" name="horaFinal">
                    </div>
                </div>
            </div>
            
            <div class="signatures">
                <div class="signature">
                    <div class="signature-line">Firma Donante</div>
                </div>
                <div class="signature">
                    <div class="signature-line">Firma Entrevistador</div>
                </div>
            </div>
            
            <div class="form-group">
                <p>Si luego de haber hecho su donación, usted considera o recuerda que por cualquier motivo su sangre no debe ser utilizada, favor de llamarnos al teléfono No.<input type="tel" id="telefonoContacto" name="telefonoContacto" style="width: 150px; display: inline-block;"></p>
            </div>
            
            <div class="btn-container no-print">
                <button type="button" class="btn" id="exportBtn">Exportar a PDF</button>
            </div>
        </form>
    </div>
    
   <script>
    // Función para mostrar/ocultar campos adicionales
    function toggleAdditionalInput(id) {
        const additionalInput = document.getElementById(id);
        const questionName = id.split('_')[0];
        const siRadio = document.getElementById(questionName + '_si');

        if (siRadio && siRadio.checked) {
            additionalInput.style.display = 'block';
        } else {
            additionalInput.style.display = 'none';
            // Limpia el campo adicional cuando se oculta
            const inputField = additionalInput.querySelector('input, textarea');
            if (inputField) inputField.value = '';
        }
    }

    // Esperar a que el DOM cargue completamente
    document.addEventListener('DOMContentLoaded', function () {
        // Lista de preguntas con campos adicionales (CORREGIDA)
        const questionsWithAdditional = ['q2', 'q3', 'q4', 'q6', 'q24', 'q25', 'q26', 'q29', 'q31'];


        questionsWithAdditional.forEach(q => {
            const siRadio = document.getElementById(q + '_si');
            const noRadio = document.getElementById(q + '_no');

            if (siRadio && noRadio) {
                siRadio.addEventListener('change', () => toggleAdditionalInput(q + '_additional'));
                noRadio.addEventListener('change', () => toggleAdditionalInput(q + '_additional'));
            }
        });

        // Calcular edad automáticamente a partir de la fecha de nacimiento
        const fechaNacimiento = document.getElementById('fechaNacimiento');
        const edad = document.getElementById('edad');

        if (fechaNacimiento && edad) {
            fechaNacimiento.addEventListener('change', function () {
                if (this.value) {
                    const birthDate = new Date(this.value);
                    const today = new Date();
                    let calculatedAge = today.getFullYear() - birthDate.getFullYear();
                    const m = today.getMonth() - birthDate.getMonth();

                    if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
                        calculatedAge--;
                    }

                    edad.value = calculatedAge;
                }
            });
        }

        // Configurar exportación a PDF
        const exportBtn = document.getElementById('exportBtn');

        if (exportBtn) {
            exportBtn.addEventListener('click', function () {
                const options = {
                    margin: 10,
                    filename: 'Formulario_Donantes_2025.pdf',
                    image: { type: 'jpeg', quality: 0.98 },
                    html2canvas: { scale: 2, useCORS: true },
                    jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
                };

                exportBtn.style.display = 'none';

                html2pdf().set(options).from(document.getElementById('pdfContent')).save().then(() => {
                    exportBtn.style.display = 'block';
                });
            });
        }

        // Establecer la fecha actual por defecto
        const fechaHoy = document.getElementById('fecha');
        if (fechaHoy) {
            const today = new Date();
            const formattedDate = today.toISOString().substr(0, 10);
            fechaHoy.value = formattedDate;
        }
    });
</script>

</body>
</html>